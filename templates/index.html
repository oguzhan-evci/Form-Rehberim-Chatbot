<!DOCTYPE html><html lang="{{ lang }}"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>{{ lang_data['title'] }}</title>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"></head><body>    <div class="container">        <header class="header">                                <div class="header-content">                <h1>{{ lang_data['chatbot_title'] }}</h1>                                <p>{{ lang_data['chatbot_subtitle'] }}</p>            </div>            <div class="lang-switcher">                <a href="{{ url_for('set_language', lang_code='tr') }}" class="lang-btn {% if lang == 'tr' %}active{% endif %}">TR</a>                <a href="{{ url_for('set_language', lang_code='en') }}" class="lang-btn {% if lang == 'en' %}active{% endif %}">EN</a>            </div>            {# --- Navigasyon Güncellendi --- #}            <nav class="navigation">                <a href="{{ url_for('home') }}" class="nav-link">{{ lang_data.get('nav_home', 'Ana Sayfa') }}</a>                <a href="{{ url_for('exercise_list') }}" class="nav-link">{{ lang_data.get('nav_exercises', 'Egzersiz Listesi') }}</a> {# YENİ LİNK #}                <a href="{{ url_for('about') }}" class="nav-link">{{ lang_data.get('nav_about', 'Hakkında') }}</a>            </nav>        </header>                        <div class="main-content-single">            <section class="chat-panel-full">                <div class="chat-history" id="chatHistory">                    <div class="chat-bubble bot welcome-message">                        <div>{{ lang_data['welcome_message'] | safe }}</div>                    </div>                    {% for q, a in chat_history %}                        {% if q %}<div class="chat-bubble user"><div>{{ q }}</div></div>{% endif %}                        {% if a %}<div class="chat-bubble bot"><div>{{ a | safe }}</div></div>{% endif %}                    {% endfor %}                </div>                <div id="loadingIndicator" class="loading-indicator" style="display: none;">                    <div class="spinner"></div> {{ lang_data['loading_text'] }}                </div>            </section>        </div>        <footer class="chat-form-footer">            <form id="chatForm" method="POST" action="/#chatHistory">                <textarea name="question" rows="1" placeholder="{{ lang_data['input_placeholder'] }}" id="questionInput"></textarea>                <button type="submit">{{ lang_data['send_button'] }}</button>            </form>            <div class="footer-links">                <form action="/clear_chat" method="post">                    <button type="submit" class="clear-chat-btn"><i class="fas fa-trash-alt"></i> {{ lang_data['clear_chat_button'] }}</button>                </form>            </div>        </footer>    </div>    <script>        // ... (JavaScript kodu aynı kaldı) ...        document.getElementById('chatForm').addEventListener('submit', function() { document.getElementById('loadingIndicator').style.display = 'flex'; });        const chatHistoryElement = document.getElementById('chatHistory');        const observer = new MutationObserver(mutations => { mutations.forEach(mutation => { if (mutation.type === 'childList') { chatHistoryElement.scrollTop = chatHistoryElement.scrollHeight; } }); const lastBubble = chatHistoryElement.lastElementChild; if(lastBubble && lastBubble.classList.contains('bot')) { document.getElementById('loadingIndicator').style.display = 'none'; } });        if (chatHistoryElement) { observer.observe(chatHistoryElement, { childList: true }); }        window.onload = function() { if (chatHistoryElement) { chatHistoryElement.scrollTop = chatHistoryElement.scrollHeight; } setupAutoGrowTextarea(); document.getElementById('loadingIndicator').style.display = 'none'; };        function setupAutoGrowTextarea() { const textarea = document.getElementById('questionInput'); if (!textarea) return; const minRows = 1; const maxRows = 6; function autoGrow() { textarea.rows = minRows; const currentRows = Math.min(Math.ceil(textarea.scrollHeight / 20), maxRows); textarea.rows = currentRows; textarea.style.overflowY = (textarea.scrollHeight > textarea.clientHeight && currentRows >= maxRows) ? 'auto' : 'hidden'; } textarea.addEventListener('input', autoGrow); textarea.style.resize = 'none'; autoGrow(); }    </script></body></html>